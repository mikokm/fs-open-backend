{"version":3,"sources":["Components/Filter.js","Components/Notification.js","Components/PersonForm.js","Components/Persons.js","Services/PersonService.js","Components/App.js","index.js"],"names":["Filter","props","value","filterText","onChange","handleFilterChange","Notification","message","className","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","persons","deletePerson","map","person","name","number","onClick","id","baseUrl","PersonService","getAll","axios","get","create","newObject","post","update","put","delete","App","useState","setPersons","useEffect","then","response","data","setFilterText","setNewName","setNewNumber","notification","setNotification","showNotification","text","setTimeout","event","target","preventDefault","oldPerson","find","newPerson","window","confirm","concat","filter","toUpperCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a593c410.chunk.js","sourcesContent":["const Filter = (props) => {\n  return (\n    <>\n      filter shown with <input value={props.filterText} onChange={props.handleFilterChange} />\n    </>\n  )\n}\n\nexport default Filter\n","const Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"notification\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","const PersonForm = (props) => {\n  return (\n    <>\n      <h2>Add new</h2>\n      <form onSubmit={props.addPerson}>\n        <div>\n          name: <input value={props.newName} onChange={props.handleNameChange} />\n        </div>\n        <div>\n          number: <input value={props.newNumber} onChange={props.handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  )\n}\n\nexport default PersonForm\n","const Persons = ({ persons, deletePerson }) => {\n  return (\n    <>\n      <h2>Numbers</h2>\n      {persons.map(person =>\n        <div key={person.name}>\n          <p>{person.name} {person.number}</p>\n          <button onClick={() => deletePerson(person.id, person.name)}>delete</button>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default Persons\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst httpDelete = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst PersonService = {\n  getAll: getAll,\n  create: create, \n  update: update,\n  delete: httpDelete\n}\n\nexport default PersonService","import React, { useEffect, useState } from 'react'\nimport Filter from './Filter'\nimport Notification from './Notification'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport PersonService from './../Services/PersonService'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n\n  useEffect(() => {\n    PersonService\n      .getAll()\n      .then(response => setPersons(response.data))\n  }, [])\n\n  const [filterText, setFilterText] = useState('')\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  const showNotification = (text) => {\n    setNotification(text)\n    setTimeout(() => setNotification(null), 2000)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilterText(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const oldPerson = persons.find(person => person.name === newName)\n    const newPerson = { name: newName, number: newNumber }\n\n    if (oldPerson) {\n      const message = `${newName} is already added to phonebook?, replace the old number with a new one?`\n      if (window.confirm(message)) {\n        PersonService\n          .update(oldPerson.id, newPerson)\n          .then(response => {\n            setPersons(persons.map(person => person.name !== newName ? person : response.data))\n            setNewName('')\n            setNewNumber('')\n            showNotification(`Updated ${newName}`)\n          })\n      }\n    } else {\n      PersonService\n        .create(newPerson)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          showNotification(`Added ${newName}`)\n        })\n    }\n  }\n\n  const filteredPersons = () => {\n    return persons.filter(person => person.name.toUpperCase().includes(filterText.toUpperCase()))\n  }\n\n  const deletePerson = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      PersonService.delete(id)\n      setPersons(persons.filter(person => person.id !== id))\n      showNotification(`Deleted ${name}`)\n    }\n  }\n\n  return (\n    <>\n      <h2>Phonebook</h2>\n      <Notification message={notification} />\n      <Filter filterText={filterText} handleFilterChange={handleFilterChange} />\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <Persons persons={filteredPersons()} deletePerson={deletePerson} />\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './Components/App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}