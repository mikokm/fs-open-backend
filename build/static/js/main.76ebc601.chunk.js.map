{"version":3,"sources":["Components/Filter.js","Components/Notification.js","Components/PersonForm.js","Components/Persons.js","Services/PersonService.js","Components/App.js","index.js"],"names":["Filter","props","value","filterText","onChange","handleFilterChange","Notification","notification","console","log","className","isError","message","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","persons","deletePerson","map","person","name","number","onClick","id","baseUrl","PersonService","getAll","axios","get","create","newObject","post","update","put","delete","App","useState","setPersons","useEffect","then","response","data","setFilterText","setNewName","setNewNumber","setNotification","showNotification","setTimeout","event","target","preventDefault","oldPerson","find","newPerson","window","confirm","catch","error","concat","filter","toUpperCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.76ebc601.chunk.js","sourcesContent":["const Filter = (props) => {\n  return (\n    <>\n      filter shown with <input value={props.filterText} onChange={props.handleFilterChange} />\n    </>\n  )\n}\n\nexport default Filter\n","const Notification = ({notification}) => {\n  console.log(notification)\n  if (notification === null) {\n    return null\n  }\n\n  return (\n    <div className={notification.isError ? \"error\" : \"notification\"}>\n      {notification.message}\n    </div>\n  )\n}\n\nexport default Notification\n","const PersonForm = (props) => {\n  return (\n    <>\n      <h2>Add new</h2>\n      <form onSubmit={props.addPerson}>\n        <div>\n          name: <input value={props.newName} onChange={props.handleNameChange} />\n        </div>\n        <div>\n          number: <input value={props.newNumber} onChange={props.handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  )\n}\n\nexport default PersonForm\n","const Persons = ({ persons, deletePerson }) => {\n  return (\n    <>\n      <h2>Numbers</h2>\n      {persons.map(person =>\n        <div key={person.name}>\n          <p>{person.name} {person.number}</p>\n          <button onClick={() => deletePerson(person.id, person.name)}>delete</button>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default Persons\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst httpDelete = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst PersonService = {\n  getAll: getAll,\n  create: create, \n  update: update,\n  delete: httpDelete\n}\n\nexport default PersonService","import React, { useEffect, useState } from 'react'\nimport Filter from './Filter'\nimport Notification from './Notification'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport PersonService from './../Services/PersonService'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n\n  useEffect(() => {\n    PersonService\n      .getAll()\n      .then(response => setPersons(response.data))\n  }, [])\n\n  const [filterText, setFilterText] = useState('')\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  const showNotification = (message, isError) => {\n    setNotification({\n      message: message,\n      isError: isError\n    })\n    setTimeout(() => setNotification(null), 2000)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilterText(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const oldPerson = persons.find(person => person.name === newName)\n    const newPerson = { name: newName, number: newNumber }\n\n    if (oldPerson) {\n      const message = `${newName} is already added to phonebook, replace the old number with a new one?`\n      if (window.confirm(message)) {\n        PersonService\n          .update(oldPerson.id, newPerson)\n          .then(response => {\n            console.log('here')\n            setPersons(persons.map(person => person.name !== newName ? person : response.data))\n            setNewName('')\n            setNewNumber('')\n            showNotification(`Updated ${newName}`, false)\n          })\n          .catch(error => {\n            showNotification(error.response.data.error, true)\n          })\n      }\n    } else {\n      PersonService\n        .create(newPerson)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          showNotification(`Added ${newName}`, false)\n        })\n        .catch(error => {\n          showNotification(error.response.data.error, true)\n        })\n    }\n  }\n\n  const filteredPersons = () => {\n    return persons.filter(person => person.name.toUpperCase().includes(filterText.toUpperCase()))\n  }\n\n  const deletePerson = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      PersonService.delete(id)\n      setPersons(persons.filter(person => person.id !== id))\n      showNotification(`Deleted ${name}`, false)\n    }\n  }\n\n  console.log(notification)\n\n  return (\n    <>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter filterText={filterText} handleFilterChange={handleFilterChange} />\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <Persons persons={filteredPersons()} deletePerson={deletePerson} />\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './Components/App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}